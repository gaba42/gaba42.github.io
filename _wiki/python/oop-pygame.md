---
layout  : wiki
title   : object oriented python
summary : 객체지향 파이썬
date    : 2023-11-04 12:31:47 +0900
updated : 2023-11-07 21:56:41 +0900
tag     : oop
resource: D1/971EA0-D3FE-4BA9-81F4-6C94C30DD355
toc     : true
public  : true
parent  : [[/python]]
latex   : false
---
* TOC
{:toc}

# 절차적 파이썬
- **절차적 프로그래밍(procedural programming)**: 전체 프로그램을 여러 함수(절차 또는 sub routine)로 분할하는 기법. 함수에 데이터를 입력하면 각 함수는 하나 이상의 계산 작업을 거쳐 결과를 낸다.
- **객체지향 프로그래밍(object-oriented programming, OOP)**: 코드와 데이터를 결합하는 방식으로 소프트웨어를 만드는 방법을 제시하며, 절차적 프로그래밍에서 일부 생길 수 있는 복잡성을 피할 수 있다.


## 절차적 구현이 겪는 공통 문제
- 전역 데이터를 사용하거나 변경하는 모든 함수는 재사용이 어렵다.
- 전역변수 값 할당은 어디서든 이뤄질 수 있기 때문에 디버깅과 유지 및 보수하는 것이 어렵다.
- 함수는 데이터의 한 조각(또는 소량)에만 작동하도록 하는 것이 맞다. (건드리지 말아야 할 데이터를 함수가 사용하거나 덮어쓰는 등의 문제를 예방하기 위해)


> 함수를 작성하는 목적 = 재사용 가능한 코드를 만들기 위해


| 클래스                          | 클래스로 만든 객체        |
|---------------------------------|---------------------------|
| 집 설계도                       | 만들어진 집               |
| 메뉴에 나열된 샌드위치          | 손에 들린 샌드위치        |
| 500원 동전을 주조하기 위한 금형 | 500원 동전 하나           |
| 작가가 쓴 책 원고               | 종이책(또는 e-book) 한 권 |

인스턴스(instance): 인스턴스와 객체는 서로 같은 의미로 사용된다.




```python
# 클래스 코드 작성
class <클래스 이름>():
    def __init__(self, <optional pram1>, ..., <optional paramN>):
        # 모든 초기화 코드는 여기에 작성한다.
    
    # 데이터에 접근하는 모든 함수는 여기에 작성한다.
    # 각 함수 형식
    
    def <함수 이름1>(self, <optional param1>, ..., <optional paramN>):
        # 함수 본체
    
    # ... 더 많은 함수
    
    def <함수 이름N>(self, <optional param1>, ..., <optional paramN>):
        # 함수 본체
```

- 매개변수 = parameter
- 함수/메서드 = method
- 스코프(scope): 해당 변수가 접근할 수 있는 변수, 객체, 함수의 집합을 의미하며 '변수 유효 범위'라고도 한다.
- 전역 스코프(global scope): 프로그램 전역에서 접근 가능
- 지역 스코프(local scope): 함수를 실행할 때만 존재가 유지된다.
    - 메서드 안에서 self.로 시작하지 않는 모든 변수는 지역 변수다. 메서드 실행이 종료될 때 사라진다는 말.
- 객체 스코프(object scope): 클래스 스코프, 인스턴스 스코프라고도 한다. 모두 클래스 정의에 포함된 모든 코드를 구성하는 스코프를 의미한다.


## 함수와 메서드의 차이
세 가지 차이점이 존재한다.
1. 모든 메서드는 class 선언부 다음에 반드시 들여쓰기하고 작성해야 한다.
2. 모든 메서드는 첫 번째 매개변수로 self를 가진다.
3. 모든 메서드는 self.<변수명> 방식으로 인스턴스 변수에 접근할 수 있다.

```python
# 할당문으로 객체 생성
<객체> = <클래스_이름>(<선택적 매개변수>)

# 클래스의 객체 만든 후 해당 객체의 메서드 호출하는 문법
<객체>.<메서드명>(<매개변수들>)
```

### try & except
- 예외를 발생시키는 방법을 활용해 오류를 더 나은 방식으로 처리할 수 있다.
```python
try:
    # 오류를 발생할 소지가 있는 코드(예외 발생)
except <예외의_이름>:
    # 해당 예외를 처리하는 코드
```

```python
# 예시
age = input('나이 입력')
try:  # 정수로 변환 시도
    age = int(age)
except ValueError:  # 변환 시 오류가 발생하면 예외 발생
    print('변환에 유효한 숫자가 아닙니다.')
```

- TypeError
- ValueError
- ZeroDivisionError
- ...

### raise, 사용자가 정의한 예외
런타임 오류 감지시 raise문으로 해당 오류에 대한 예외 신호를 발생시킬 수 있다.
```python
raise <예외_이름>('<오류를 묘사하는 문자열>')
```

3가지 작성 방법
```python
# 1. 예외 표현 문자열
raise ValueError('정수만 입력해야 합니다.')

# 2. 포괄적 예외를 표현하는 Exception 사용
raise Exception('입력 값이 부동소수가 되어서는 안 됩니다.')

# 3. 나만의 사용자 정의 예외를 정의
# BEST
class <사용자정의_예외_이름>(Exception):
    pass
```

## 인터페이스 vs. 구현
클래스는 두 가지 측면으로 바라볼 수 있다.
1. 해당 클래스가 가능한 일(인터페이스)에 초점을 두는 것
2. 실제로 클래스가 내부적으로 작동하는 세부 사항(구현)에 초점을 두는 것

> 만약 클래스를 작성했거나 유지 및 보수하는 사람이라면 클래스의 모든 구현 사항을 이해해야 한다. 모든 메서드의 실제 코드가 인스턴스 변수에 어떻게 영향을 미치는지 정확히 알아야 한다. 
> 반면 해당 클래스를 사용하는 코드 작성자라면 해당 클래스가 제공하는 메서드, 즉 인터페이스만 고려해도 좋다. 각 메서드를 호출하는 데 필요한 매개변수와 각 메서드가 반환하는 값 정도만 명확히 파악하면 된다.
><객체 지향 파이썬> 4장 95pg


# 용어
- **클래스**: 객체가 기억해야 할 것(데이터 또는 상태)과 할 수 있는 것(함수 또는 행동)을 정의한 코드
- **인스턴스화**: 클래스로 객체를 만드는 과정
- **메서드**: 클래스 내부에서 정의된 함수. 일반적으로 메서드는 self라고 명명되는 하나의 매개변수를 반드시 가져야 한다.
- **인스턴스 변수**: 메서드 속에서 관례적으로 self.로 시작하는 모든 변수. 인스턴스 변수는 객체 스코프를 따른다.
- **객체**: 데이터와 지속적으로 해당 데이터에 작용하는 코드
- **객체 관리자 객체(object manager obejct)**: 리스트나 딕셔너리로 객체를 관리하고 각 객체의 메서드를 호출하는 객체.
- **컴포지션(composition/object composition)**: 한 객체가 하나 이상의 다른 객체를 관리하는 논리적인 구조.
- **인터페이스**: 클래스가 제공하는 메서드 집합(각 메서드를 사용하는 데 필요한 매개변수도 포함). 인터페이스는 클래스로 생성된 객체가 할 수 있는 일에는 무엇이 있는지 보여준다.
- 구현(implementation): 클래스를 구현하는 실제 코드. 객체가 할 수 있는 일이 실제로 작동하는 방법을 보여준다.
- **이벤트**: 프로그램이 실행 중일 때 발생하는 사건. 프로그램이 반드시 대응하거나 선택적으로 대응할 수 있다. 대부분 이벤트는 사용자 행동 때문에 발생한다.
 
